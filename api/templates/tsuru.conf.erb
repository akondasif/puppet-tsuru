### http://docs.tsuru.io/en/latest/reference/config.html#tsuru-configuration
listen: "<%= @tsuru_server_listen %>"

<%- if @tsuru_use_tls.eql?(true) %>
### http://docs.tsuru.io/en/latest/reference/config.html#use-tls
use-tls: <%= @tsuru_use_tls %>
  tls-cert-file: <%= @tsuru_tls_cert_file %>
  tls-key-file: <%= @tsuru_tls_key_file %>
<%- end %>

### http://docs.tsuru.io/en/latest/reference/config.html#database-access
database:
  url: <%= @mongodb_url %>
  name: <%= @mongodb_database_name %>

<%- if @tsuru_smtp_server? %>
### http://docs.tsuru.io/en/latest/reference/config.html#email-configuration
smtp:
  server: <%= @tsuru_smtp_server %>
  user: <%= @tsuru_smtp_from %>
<%- end %>
<%= @smtp_password ? "  password: #{@smtp_password}" %>


<%- if @@smtp_password? %>
  password: <%= @smtp_password %>
<%- end %>
### http://docs.tsuru.io/en/latest/reference/config.html#git-configuration
git:
  unit-repo: <%= @tsuru_git_unit_repo %>
  api-server: <%= @tsuru_git_url %>
  rw-host: <%= @tsuru_git_rw_host %>
  ro-host: <%= @tsuru_git_ro_host %>

### http://docs.tsuru.io/en/latest/reference/config.html#authentication-configuration
auth:
  token-expire-days: <%= @auth_token_expire_days %>
  hash-cost: <%= @auth_hash_cost %>
  user-registration: <%= @auth_user_registration %>
  scheme: <%= @auth_scheme %>
  <%- if @auth_scheme.eql?('oauth') %>
  oauth:
    client-id: <%= @oauth_client_id %>
    client-secret: <%= @oauth_client_secret %>
    scope: <%= @oauth_scope %>
    auth-url: <%= @oauth_auth_url %>
    token-url: <%= @oauth_token_url %>
    info-url: <%= @oauth_info_url %>
    collection: <%= @oauth_collection %>
    callback-port: <%= @oauth_callback_port %>
  <%- end %>

### http://docs.tsuru.io/en/latest/reference/config.html#queue
queue: redis
redis-queue:
  host: <%= @redis_host %>
  port: <%= @redis_port %>
  pool-max-idle-conn: <%= @redis_pool_max_idle_conn %>

### http://docs.tsuru.io/en/latest/reference/config.html#admin-users
admin-team: <%= @tsuru_admin_team %>

### http://docs.tsuru.io/en/latest/reference/config.html#quota-management
quota:
  apps-per-user: <%= @tsuru_apps_per_user %>
  units-per-app: <%= @tsuru_units_per_app %>

### http://docs.tsuru.io/en/latest/reference/config.html#hipache
hipache:
  domain: <%= @tsuru_server_domain %>
  redis-server: <%= @redis_host %>

### http://docs.tsuru.io/en/latest/reference/config.html#provisioner
provisioner: <%= @tsuru_provisioner %>
<%- if @tsuru_provisioner.eql?('docker') %>
docker:
  memory: <%= @docker_memory %>
  swap: <%= @docker_swap %>
  segregate: <%= @docker_segregate %>
  registry: <%= @docker_registry_server %>
  collection: <%= @docker_mongodb_collection %>
  repository-namespace: <%= @docker_repository_namespace %>
  router: <%= @docker_router %>
  deploy-cmd: <%= @docker_deploy_cmd %>
  cluster:
    storage: <%= @docker_storage %>
    mongo-url: <%= @mongodb_url %>
    mongo-database: <%= @docker_cluster_mongodb_db %>
  run-cmd:
    bin: <%= @docker_run_cmd_bin %>
    port: "<%= @docker_run_cmd_port %>"
  ssh:
    add-key-cmd: <%= @docker_ssh_add_key_cmd %>
    public-key: <%= @docker_public_key %>
    user: <%= @docker_user %>
    sshd-path: <%= @docker_sshd_path %>
  <%- end %>

### http://docs.tsuru.io/en/latest/reference/config.html#iaas-configuration
iaas:
  default: <%= @tsuru_iaas_default %>
  <%- if @tsuru_iaas_default.eql?('cloudstack') %>
  cloudstack:
    api-key: "<%= @cloudstack_apikey %>"
    secret-key: "<%= @cloudstack_secretkey %>"
    url: <%= @cloudstack_api_url %>
    user-data: <%= @cloudstack_user_data %>
  node-protocol: <%= @cloudstack_node_protocol %>
  node-port: <%= @cloudstack_node_port %>
  <%- end %>

### http://docs.tsuru.io/en/latest/reference/config.html#log-level
debug: <%= @tsuru_debug %>
